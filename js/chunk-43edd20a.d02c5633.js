(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43edd20a"],{1693:function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(i).default}});var o=r(2);Object.defineProperty(t,"adjustCaretPosition",{enumerable:!0,get:function(){return n(o).default}});var a=r(5);Object.defineProperty(t,"createTextMaskInputElement",{enumerable:!0,get:function(){return n(a).default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t){"use strict";function r(e){var t=e.previousConformedValue,r=void 0===t?i:t,o=e.previousPlaceholder,a=void 0===o?i:o,s=e.currentCaretPosition,u=void 0===s?0:s,c=e.conformedValue,l=e.rawValue,f=e.placeholderChar,h=e.placeholder,d=e.indexesOfPipedChars,p=void 0===d?n:d,g=e.caretTrapIndexes,m=void 0===g?n:g;if(0===u||!l.length)return 0;var v=l.length,y=r.length,b=h.length,w=c.length,E=v-y,P=E>0,C=0===y,x=E>1&&!P&&!C;if(x)return u;var _=P&&(r===c||c===h),O=0,A=void 0,$=void 0;if(_)O=u-E;else{var k=c.toLowerCase(),T=l.toLowerCase(),R=T.substr(0,u).split(i),S=R.filter((function(e){return-1!==k.indexOf(e)}));$=S[S.length-1];var M=a.substr(0,S.length).split(i).filter((function(e){return e!==f})).length,B=h.substr(0,S.length).split(i).filter((function(e){return e!==f})).length,I=B!==M,U=void 0!==a[S.length-1]&&void 0!==h[S.length-2]&&a[S.length-1]!==f&&a[S.length-1]!==h[S.length-1]&&a[S.length-1]===h[S.length-2];!P&&(I||U)&&M>0&&h.indexOf($)>-1&&void 0!==l[u]&&(A=!0,$=l[u]);for(var N=p.map((function(e){return k[e]})),V=N.filter((function(e){return e===$})).length,j=S.filter((function(e){return e===$})).length,L=h.substr(0,h.indexOf(f)).split(i).filter((function(e,t){return e===$&&l[t]!==e})).length,Y=L+j+V+(A?1:0),D=0,F=0;F<w;F++){var H=k[F];if(O=F+1,H===$&&D++,D>=Y)break}}if(P){for(var z=O,W=O;W<=b;W++)if(h[W]===f&&(z=W),h[W]===f||-1!==m.indexOf(W)||W===b)return z}else if(A){for(var Z=O-1;Z>=0;Z--)if(c[Z]===$||-1!==m.indexOf(Z)||0===Z)return Z}else for(var G=O;G>=0;G--)if(h[G-1]===f||-1!==m.indexOf(G)||0===G)return G}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var n=[],i=""},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(t)){if(("undefined"==typeof t?"undefined":i(t))!==a.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,r),t=(0,o.processCaretTraps)(t).maskWithoutCaretTraps}var n=r.guide,c=void 0===n||n,l=r.previousConformedValue,f=void 0===l?u:l,h=r.placeholderChar,d=void 0===h?a.placeholderChar:h,p=r.placeholder,g=void 0===p?(0,o.convertMaskToPlaceholder)(t,d):p,m=r.currentCaretPosition,v=r.keepCharPositions,y=!1===c&&void 0!==f,b=e.length,w=f.length,E=g.length,P=t.length,C=b-w,x=C>0,_=m+(x?-C:0),O=_+Math.abs(C);if(!0===v&&!x){for(var A=u,$=_;$<O;$++)g[$]===d&&(A+=d);e=e.slice(0,_)+A+e.slice(_,b)}for(var k=e.split(u).map((function(e,t){return{char:e,isNew:t>=_&&t<O}})),T=b-1;T>=0;T--){var R=k[T].char;if(R!==d){var S=T>=_&&w===P;R===g[S?T-C:T]&&k.splice(T,1)}}var M=u,B=!1;e:for(var I=0;I<E;I++){var U=g[I];if(U===d){if(k.length>0)for(;k.length>0;){var N=k.shift(),V=N.char,j=N.isNew;if(V===d&&!0!==y){M+=d;continue e}if(t[I].test(V)){if(!0===v&&!1!==j&&f!==u&&!1!==c&&x){for(var L=k.length,Y=null,D=0;D<L;D++){var F=k[D];if(F.char!==d&&!1===F.isNew)break;if(F.char===d){Y=D;break}}null!==Y?(M+=V,k.splice(Y,1)):I--}else M+=V;continue e}B=!0}!1===y&&(M+=g.substr(I,E));break}M+=U}if(y&&!1===x){for(var H=null,z=0;z<M.length;z++)g[z]===d&&(H=z);M=null!==H?M.substr(0,H+1):u}return{conformedValue:M,meta:{someCharsRejected:B}}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var o=r(4),a=r(1),s=[],u=""},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.placeholderChar;if(!i(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")}function i(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function o(e){return"string"==typeof e||e instanceof String}function a(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function s(e){return"undefined"==typeof e||null===e}function u(e){for(var t=[],r=void 0;r=e.indexOf(f),-1!==r;)t.push(r),e.splice(r,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=n,t.isArray=i,t.isString=o,t.isNumber=a,t.isNil=s,t.processCaretTraps=u;var c=r(1),l=[],f="[]"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=n.inputElement,c=n.mask,f=n.guide,m=n.pipe,y=n.placeholderChar,b=void 0===y?p.placeholderChar:y,w=n.keepCharPositions,E=void 0!==w&&w,P=n.showMask,C=void 0!==P&&P;if("undefined"==typeof r&&(r=i.value),r!==t.previousConformedValue){("undefined"==typeof c?"undefined":u(c))===v&&void 0!==c.pipe&&void 0!==c.mask&&(m=c.pipe,c=c.mask);var x=void 0,_=void 0;if(c instanceof Array&&(x=(0,d.convertMaskToPlaceholder)(c,b)),!1!==c){var O=a(r),A=i.selectionEnd,$=t.previousConformedValue,k=t.previousPlaceholder,T=void 0;if(("undefined"==typeof c?"undefined":u(c))===p.strFunction){if(_=c(O,{currentCaretPosition:A,previousConformedValue:$,placeholderChar:b}),!1===_)return;var R=(0,d.processCaretTraps)(_),S=R.maskWithoutCaretTraps,M=R.indexes;_=S,T=M,x=(0,d.convertMaskToPlaceholder)(_,b)}else _=c;var B={previousConformedValue:$,guide:f,placeholderChar:b,pipe:m,placeholder:x,currentCaretPosition:A,keepCharPositions:E},I=(0,h.default)(O,_,B),U=I.conformedValue,N=("undefined"==typeof m?"undefined":u(m))===p.strFunction,V={};N&&(V=m(U,s({rawValue:O},B)),!1===V?V={value:$,rejected:!0}:(0,d.isString)(V)&&(V={value:V}));var j=N?V.value:U,L=(0,l.default)({previousConformedValue:$,previousPlaceholder:k,conformedValue:j,placeholder:x,rawValue:O,currentCaretPosition:A,placeholderChar:b,indexesOfPipedChars:V.indexesOfPipedChars,caretTrapIndexes:T}),Y=j===x&&0===L,D=C?x:g,F=Y?D:j;t.previousConformedValue=F,t.previousPlaceholder=x,i.value!==F&&(i.value=F,o(i,L))}}}}}function o(e,t){document.activeElement===e&&(y?b((function(){return e.setSelectionRange(t,t,m)}),0):e.setSelectionRange(t,t,m))}function a(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(void 0===e||null===e)return g;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var c=r(2),l=n(c),f=r(3),h=n(f),d=r(4),p=r(1),g="",m="none",v="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}))},"1fb5":function(e,t,r){"use strict";t.byteLength=l,t.toByteArray=h,t.fromByteArray=g;for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function f(e,t,r){return 3*(t+r)/4-r}function h(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(f(e,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(n));return i.join("")}function g(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(p(e,s,s+a>u?u:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"2c5b":function(e,t,r){},"581c":function(e,t,r){},"6a5f":function(e,t,r){},"6c79":function(e,t,r){},"6ecd":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"contents"}},[r("bubble"),r("v-row",{staticClass:"ma-0",class:"merchant"==e.appName?"slate":"primary",attrs:{justify:"center",align:"center"}},[r("v-col",{staticClass:"d-flex align-center justify-center flex-column px-md-0 py-md-16",class:{"glass card":!e.xsOnly},attrs:{cols:"12",sm:"10"}},[r("logo",{staticClass:"mx-auto mt-10",attrs:{color:"white-ice",type:"tag",width:"200px"}}),r("v-row",{attrs:{justify:"center",align:"center","no-gutters":""}},[r("v-col",[r("v-card",{staticClass:"pa-md-2 mx-auto transparent",attrs:{flat:"",dark:"",width:e.cardWidth,height:380}},[r("v-window",{staticClass:"min-width-50vw",model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[r("v-window-item",{attrs:{value:"Email",transition:"fade-transition","reverse-transition":"fade-transition"}},[r("email",{on:{"form-change":e.onFormChange}})],1),r("v-window-item",{attrs:{value:"VerifyPhone",transition:"fade-transition","reverse-transition":"fade-transition"}},[r("verify-otp",{attrs:{purpose:"PHONE","is-new-account":e.isNewAccount},on:{"form-change":e.onFormChange}})],1),r("v-window-item",{attrs:{value:"CreatePhone",transition:"fade-transition","reverse-transition":"fade-transition"}},[r("phone",{attrs:{purpose:"CREATE_PHONE"},on:{"form-change":e.onFormChange}})],1),r("v-window-item",{attrs:{value:"ChangeMobile",transition:"fade-transition","reverse-transition":"fade-transition"}},[r("change-mobile",{on:{"form-change":e.onFormChange}})],1),r("v-window-item",{attrs:{value:"ReplacePhone",transition:"fade-transition","reverse-transition":"fade-transition"}},[r("phone",{attrs:{purpose:"REPLACE_PHONE"},on:{"form-change":e.onFormChange}})],1),r("v-window-item",{attrs:{value:"VerifyEmail",transition:"fade-transition","reverse-transition":"fade-transition"}},[r("verify-otp",{attrs:{purpose:"EMAIL"},on:{"form-change":e.onFormChange}})],1),r("v-window-item",{attrs:{value:"QrCode"}},[r("qr-code")],1)],1)],1)],1)],1),r("logo",{staticClass:"mx-auto px-0",attrs:{color:"white-ice",type:"strapline",width:"227px"}})],1)],1)],1)},i=[],o=r("15fd"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"main",staticClass:"main",class:{blur:e.xsOnly}},e._l(e.count,(function(t){return n("svg",{key:t,ref:"blob",refInFor:!0,staticClass:"blob",attrs:{height:e.blob.height,width:e.blob.width}},[n("defs",[n("radialGradient",{attrs:{id:"spot",fx:"50%",fy:"20%"}},[n("stop",{attrs:{offset:"10%","stop-color":"white","stop-opacity":".2"}}),n("stop",{attrs:{offset:"70%","stop-color":"white","stop-opacity":"0"}})],1),n("pattern",{attrs:{id:"img"+t,patternUnits:"userSpaceOnUse",preserveAspectRatio:"none",width:"100%",height:"100%"}},[n("image",{attrs:{href:r("7576"),x:e.rand(0,-e.blob.imgWidth+e.blob.width),y:e.rand(-e.blob.height/2,-e.blob.imgHeight+3*e.blob.height/2),width:e.blob.imgWidth,height:e.blob.imgHeight,opacity:"0.7",transform:"rotate("+e.rand(0,360)+", "+e.blob.width/2+", "+e.blob.height/2+")"}})])],1),n("path",{attrs:{fill:"url(#img"+t+")",transform:"rotate(-45, "+e.blob.width/2+", "+e.blob.height/2+")",d:e.paths[t]}}),n("path",{attrs:{fill:"url(#spot)",transform:"rotate(-45, "+e.blob.width/2+", "+e.blob.height/2+")",d:e.paths[t]}})])})),0)},s=[],u=(r("a630"),r("3ca3"),r("ac0d")),c={data:function(){return{blob:{width:200,height:200,imgWidth:360,imgHeight:360},count:6,paths:[]}},computed:{xsOnly:function(){return this.$vuetify.breakpoint.xsOnly}},mounted:function(){this.paths=Array.from({length:this.count},this.generateSvgPath)},methods:{rand:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},generateSvgPath:function(){return u["svgPath"]({seed:Math.random(),extraPoints:2,randomness:4,size:200})}}},l=c,f=(r("ecce"),r("2877")),h=Object(f["a"])(l,a,s,!1,null,"3b066b3c",null),d=h.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"contents"}},[r("v-card-title",{staticClass:"justify-center"},[e._v(e._s("merchant"==e.appName?"Merchant Portal":"Welcome to Gratify Pay"))]),r("v-card-text",{staticClass:"text-center mb-10 min-height-60"},[e._v(" "+e._s("merchant"==e.appName?"Enter your email to log in":"Log in or sign up")+" ")]),r("v-card-actions",[r("v-form",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",readonly:e.isCheckingEmail},on:{submit:function(t){return t.preventDefault(),e.sendEmail.apply(null,arguments)}}},[r("email-text-field",{attrs:{"error-messages":e.emsg,disabled:e.hasMerchantEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-btn",{staticClass:"ultra-red",attrs:{type:"submit",block:"",loading:e.isCheckingEmail,disabled:!e.isValidEmail}},[e._v(" Continue ")])],1)],1)],1)},g=[],m=r("1da1"),v=(r("96cf"),r("6d1e")),y=r("cc68"),b=(r("ac1f"),r("00b4"),function(e){return/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)}),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("gp-text-field",e._g(e._b({attrs:{"data-test":"email-input",placeholder:"Enter email",inputmode:"email",label:"Email address","prepend-inner-icon":"uis-mail-line",autofocus:""}},"gp-text-field",e.$attrs,!1),e.$listeners))},E=[],P={},C=P,x=Object(f["a"])(C,w,E,!1,null,null,null),_=x.exports,O={name:"Email",components:{EmailTextField:_},data:function(){return{email:"",emsg:"",isCheckingEmail:!1}},computed:{isValidEmail:function(){return b(this.email)},xsOnly:function(){return this.$vuetify.breakpoint.xsOnly},appName:function(){return v["a"].appName},inviteToken:function(){return this.$route.query.inviteToken},merchantEmail:function(){var e=Object(y["a"])(this.inviteToken);return e.email||null},hasMerchantEmail:function(){return null!==this.merchantEmail}},mounted:function(){this.hasMerchantEmail&&(this.email=this.merchantEmail)},methods:{sendEmail:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCheckingEmail=!0,e.emsg="",t.prev=2,t.next=5,v["a"].sendEmail({email:e.email});case 5:n=t.sent,e.isCheckingEmail=!1,"INVALID_EMAIL"===(null===(r=n.data)||void 0===r?void 0:r.status)?e.emsg="Whoops! There's something wrong with your email.":e.$emit("form-change",n.data.status),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](2),e.isCheckingEmail=!1,console.error(t.t0),e.emsg=(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.code)||"Looks like something's wrong with the server";case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},A=O,$=r("6544"),k=r.n($),T=r("8336"),R=r("99d9"),S=r("5530"),M=(r("caad"),r("2532"),r("07ac"),r("4de4"),r("d3b7"),r("159b"),r("7db0"),r("58df")),B=r("7e2b"),I=r("3206"),U=Object(M["a"])(B["a"],Object(I["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,r=function(e){return e.$watch("hasError",(function(r){t.$set(t.errorBag,e._uid,r)}),{immediate:!0})},n={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(t.errorBag.hasOwnProperty(e._uid)||(n.valid=r(e)))})):n.valid=r(e),n},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var r=this.watchers.find((function(e){return e._uid===t._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(S["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}),N=Object(f["a"])(A,p,g,!1,null,"d17231b8",null),V=N.exports;k()(N,{VBtn:T["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VForm:U});var j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"contents"}},[r("v-card-title",{staticClass:"justify-center"},[e._v(e._s(e.title))]),r("v-card-text",{staticClass:"text-center mb-10 min-height-60"},[e._v(" Please enter your mobile number below and we'll send you a verification code. ")]),r("v-card-actions",[r("v-form",{staticStyle:{width:"100%"},attrs:{readonly:e.isSubmitting},on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("phone-text-field",{attrs:{"error-messages":e.emsg},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),r("v-btn",{staticClass:"ultra-red",attrs:{type:"submit",block:"",loading:e.isSubmitting,disabled:!e.isValidPhone}},[e._v(" Continue ")])],1)],1)],1)},L=[],Y=[{text:"+1",code:"ca",country:"Canada",mask:"(###) ###-####",placeholder:"(555) 555-5554",removeFirstZero:!1},{text:"+1",code:"us",country:"United States of America",mask:"(###) ###-####",placeholder:"(555) 555-5554",removeFirstZero:!1},{text:"+61",code:"au",country:"Australia",mask:"#### ### ###",placeholder:"0455 555 555",removeFirstZero:!0},{text:"+64",code:"nz",country:"New Zealand",mask:"(###) ###-####",placeholder:"(024) 555-5554",removeFirstZero:!0},{text:"+44",code:"gb",country:"United Kingdom",mask:"##### ### ###",placeholder:"07915 554 555",removeFirstZero:!0}];function D(e){return D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function F(e){var t="string"===typeof e||e instanceof String;if(!t){var r=D(e);throw null===e?r="null":"object"===r&&(r=e.constructor.name),new TypeError("Expected a string but received a ".concat(r))}}var H={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/};function z(e,t,r){if(F(e),r&&r.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(H.hasOwnProperty(t)){var r=H[t];if(r.test(e))return!0}return!1}));if(t in H)return H[t].test(e);if(!t||"any"===t){for(var n in H)if(H.hasOwnProperty(n)){var i=H[n];if(i.test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}H["en-CA"]=H["en-US"],H["fr-CA"]=H["en-CA"],H["fr-BE"]=H["nl-BE"],H["zh-HK"]=H["en-HK"],H["zh-MO"]=H["en-MO"],H["ga-IE"]=H["en-IE"],H["fr-CH"]=H["de-CH"],H["it-CH"]=H["fr-CH"];Object.keys(H);var W=function(e){return z(e,"any",{strictMode:!0})},Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("gp-text-field",e._b({staticClass:"phone",attrs:{value:e.phone,"data-test":"phone-input",inputmode:"tel",maxlength:e.maxLength,placeholder:e.placeholder,autofocus:"",label:"Phone Number"},on:{"v-on":e.$listeners,input:e.onInput},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[r("v-select",{staticClass:"areacode",attrs:{value:e.areacode,items:e.areacodes,required:"",dense:"",dark:"","hide-details":"","single-line":"","item-value":"code","append-icon":null,"data-test":"areacode-input"},on:{input:e.onAreacodeInput},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[r("flag",{attrs:{"country-code":n.code}}),r("span",{staticStyle:{width:"40px"}},[e._v(e._s(n.text))]),r("span",{staticClass:"ml-2"},[e._v(e._s(n.country))])]}},{key:"selection",fn:function(t){var n=t.item;return[r("flag",{attrs:{"country-code":n.code}}),r("span",{staticClass:"nudge-down",staticStyle:{width:"32px"}},[e._v(e._s(n.text))])]}}])})]},proxy:!0}])},"gp-text-field",e.$attrs,!1))},G=[],q=(r("99af"),r("5319"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"fflag ff-sm fflag-"+e.code+" mr-2"})}),K=[],Q=(r("c52b"),{props:{countryCode:{type:String,required:!0,validator:function(e){return 2===e.length}}},computed:{code:function(){return this.countryCode.toUpperCase()}}}),J=Q,X=Object(f["a"])(J,q,K,!1,null,null,null),ee=X.exports,te=r("2909"),re=(r("d81d"),r("1693")),ne=function(e){var t=!1;return Object(te["a"])(e).map((function(e){switch(e){case"#":return t?(t=!1,"#"):/\d/;case"A":return t?(t=!1,"A"):/[a-zA-Z]/;case"N":return t?(t=!1,"N"):/[0-9a-zA-Z]/;case"X":return t?(t=!1,"N"):/./;case"\\":return t?(t=!1,"\\"):(t=!0,null);default:return t=!1,e}})).filter((function(e){return null!==e}))},ie=function(e,t){var r=ne(t),n=Object(re["conformToMask"])(e,r,{guide:!1}),i=n.conformedValue;return i},oe={components:{Flag:ee},data:function(){return{areacode:"ca",phone:""}},computed:{areacodes:function(){return Y},fullPhone:function(){return this.currentCountry.removeFirstZero?"".concat(this.currentCountry.text).concat(this.phone.replace(/\D/g,"").substring(1)):this.currentCountry.text+this.phone.replace(/\D/g,"")},currentCountry:function(){var e=this;return Y.find((function(t){var r=t.code;return r===e.areacode}))},maxLength:function(){return this.currentCountry.mask.length},placeholder:function(){return this.currentCountry.placeholder}},methods:{onInput:function(e){this.phone=ie(e.replace(/\D/,""),this.currentCountry.mask),this.$emit("input",this.fullPhone)},onAreacodeInput:function(e){this.areacode=e,this.phone="",this.$emit("input",this.fullPhone)}}},ae=oe,se=(r("915e"),r("b974")),ue=Object(f["a"])(ae,Z,G,!1,null,"5d4adf61",null),ce=ue.exports;k()(ue,{VSelect:se["a"]});var le={name:"CreatePhone",components:{PhoneTextField:ce},props:{purpose:{type:String,default:function(){return"CREATE_PHONE"},validator:function(e){return["CREATE_PHONE","REPLACE_PHONE"].includes(e.toUpperCase())}}},data:function(){return{phone:"",emsg:"",isSubmitting:!1}},computed:{isValidPhone:function(){return W(this.phone)},title:function(){switch(this.purpose.toUpperCase()){case"CREATE_PHONE":return"Create a New Account";case"REPLACE_PHONE":return"Update Your Phone";default:return""}}},mounted:function(){},created:function(){},methods:{displayErrorMessage:function(e){switch(e){case"INVALID_DATA":this.emsg="There was a problem with that mobile number. Please try a different mobile number in your country.";break;case"DUPLICATE_PHONE":this.emsg="Whoops! There's already a Gratify Pay account associated with this phone number. Check your inbox! We sent a message to the registered email address. Please use that email address to log in.";break;default:this.emsg="Invalid Email and/or Phone"}},handleSubmit:function(){switch(this.purpose.toUpperCase()){case"CREATE_PHONE":this.createPhone();break;case"REPLACE_PHONE":this.replacePhone();break;default:break}},createPhone:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSubmitting=!0,e.emsg="",t.prev=2,t.next=5,v["a"].createPhone({phone:e.phone});case 5:r=t.sent,e.isSubmitting=!1,e.$emit("form-change",r.data.status),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](2),e.isSubmitting=!1,console.error(t.t0),e.displayErrorMessage(null===(n=t.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.status);case 15:case"end":return t.stop()}}),t,null,[[2,10]])})))()},replacePhone:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSubmitting=!0,t.prev=1,t.next=4,v["a"].replacePhone({newPhone:e.phone});case 4:r=t.sent,e.$emit("form-change",r.data.status),t.next=14;break;case 8:t.prev=8,t.t0=t["catch"](1),e.isSubmitting=!1,console.error(t.t0),console.log(null===(n=t.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.status),e.displayErrorMessage(null===(o=t.t0.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.status);case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},fe=le,he=(r("9a61"),Object(f["a"])(fe,j,L,!1,null,"eb8bdee2",null)),de=he.exports;k()(he,{VBtn:T["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VForm:U});var pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"contents"}},[r("v-card-title",{staticClass:"justify-center"},[e._v(" "+e._s(e.isForPhone?"Verify Your Account":"Verify Your Email")+" ")]),r("v-card-text",{staticClass:"text-center mb-10 min-height-60"},[e.isForPhone?[e._v(" Enter the 6-digit verification code sent to your mobile number "+e._s(e._f("phone")(e.phone))+" ")]:[e._v(" Please enter the 6-digit email code sent to your email address ")]],2),r("v-card-actions",[r("v-form",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",readonly:e.isCheckingOTP},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("otp-text-field",{model:{value:e.otp,callback:function(t){e.otp=t},expression:"otp"}}),r("v-btn",{staticClass:"ultra-red",attrs:{type:"submit",block:"",loading:e.isCheckingOTP,disabled:!e.isValidOTP}},[e._v(" Continue ")])],1)],1),r("v-card-text",{staticClass:"text-center opacity-50 px-0"},[e._v(" Didn't receive the code? "),r("span",{staticClass:"text-decoration-underline actions",on:{click:e.resend}},[e._v("Resend code")]),e.isForPhone?[e.isNewAccount?r("span",[e._v(" or "),r("span",{staticClass:"text-decoration-underline actions",attrs:{id:"ch-phone"},on:{click:e.changePhone}},[e._v("change mobile phone number")])]):r("span",[r("br"),r("span",{staticClass:"text-decoration-underline actions",attrs:{id:"no-longer-have-phone"},on:{click:e.noLongerHavePhone}},[e._v(" I no longer have this device ")])])]:e._e()],2)],1)},ge=[],me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("gp-text-field",e._g(e._b({attrs:{"data-test":"otp-input",placeholder:"Enter code",label:"Verification code",pattern:"[0-9]*",maxlength:e.lengthNum,"prepend-inner-icon":"uis-lock-open-line",autofocus:""}},"gp-text-field",e.$attrs,!1),e.$listeners))},ve=[],ye=(r("a9e3"),{props:{length:{type:[String,Number],required:!1,default:function(){return 6},validator:function(e){return Number(e)>0}}},computed:{lengthNum:function(){return Number(this.length)}}}),be=ye,we=Object(f["a"])(be,me,ve,!1,null,null,null),Ee=we.exports,Pe={name:"VerifyPhone",components:{OtpTextField:Ee},props:{isNewAccount:{type:Boolean,required:!1,default:function(){return!0}},purpose:{type:String,required:!0,validator:function(e){return["EMAIL","PHONE"].includes(e.toUpperCase())}}},data:function(){return{otp:"",emsg:"",isCheckingOTP:!1}},computed:{phone:function(){return v["a"].phone},isValidOTP:function(){return/^\d{6}$/.test(String(this.otp))},xsOnly:function(){return this.$vuetify.breakpoint.xsOnly},isForPhone:function(){return"PHONE"===this.purpose.toUpperCase()}},mounted:function(){this.otp=""},methods:{onSubmit:function(){return this.isForPhone?this.verifyPhone():this.verifyEmail()},displayErrorMessage:function(e){switch(e){case"QUOTA_EXCEEDED":this.emsg="Too many unsuccessful attempts";break;case"INVALID_OTP":this.emsg="Sorry! The code is incorrect. Please try again.";break;default:this.emsg="Something's wrong with the server"}},verifyPhone:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.emsg="",e.isCheckingOTP=!0,t.next=5,v["a"].verifyPhone({otp:e.otp});case 5:r=t.sent,e.$emit("form-change",r.data.status),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),e.isCheckingOTP=!1,console.error(t.t0),e.displayErrorMessage(null===(n=t.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.status);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},verifyEmail:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o,a,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCheckingOTP=!0,t.prev=1,t.next=4,v["a"].verifyEmail({otp:e.otp});case 4:r=t.sent,e.$emit("form-change",r.data.status),e.isCheckingOTP=!1,t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),e.isCheckingOTP=!1,console.error(t.t0),e.displayErrorMessage(null!==(n=null===(i=t.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.status)&&void 0!==n?n:null===(a=t.t0.response)||void 0===a||null===(s=a.data)||void 0===s||null===(u=s.details[0])||void 0===u?void 0:u.code);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},resend:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isForPhone){t.next=4;break}return t.abrupt("return",e.resendPhoneOTP());case 4:return t.abrupt("return",e.resendEmailOTP());case 5:case"end":return t.stop()}}),t)})))()},resendPhoneOTP:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isCheckingOTP){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r=v["a"].email,t.next=6,v["a"].sendEmail({email:r});case 6:n=t.sent,e.emsg=n.code,console.log("sendEmail res:",n),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),console.error(t.t0),e.displayErrorMessage(null===(i=t.t0.response)||void 0===i||null===(o=i.data)||void 0===o||null===(a=o.details[0])||void 0===a?void 0:a.code);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()},resendEmailOTP:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isCheckingOTP){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,v["a"].lostPhone();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](2),e.emsg="Sorry! There was a problem sending the code to your email",console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()},changePhone:function(){this.isCheckingOTP||(console.log("Change mobile number"),this.$emit("form-change","CHANGE_PHONE"))},noLongerHavePhone:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isCheckingOTP){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,v["a"].lostPhone();case 5:r=t.sent,e.$emit("form-change",r.data.status),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.error(t.t0),e.displayErrorMessage(null===(n=t.t0.response.data)||void 0===n||null===(i=n.details[0])||void 0===i?void 0:i.code);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))()}}},Ce=Pe,xe=Object(f["a"])(Ce,pe,ge,!1,null,"6fd064ca",null),_e=xe.exports;k()(xe,{VBtn:T["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VForm:U});var Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"contents"}},[r("v-card-title",{staticClass:"justify-center"},[e._v(" Change Mobile Number ")]),r("v-card-text",{staticClass:"text-center mb-10"},[e._v(" Enter your email address and a new mobile number ")]),r("v-card-actions",{staticClass:"d-block"},[r("v-form",{staticStyle:{width:"100%"},attrs:{readonly:e.isChanging}},[r("email-text-field",{model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("phone-text-field",{attrs:{"error-messages":e.emsg},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),r("v-btn",{staticClass:"ultra-red",attrs:{block:"",loading:e.isChanging,disabled:!e.isValidPhone||!e.isValidEmail},on:{click:e.changePhone}},[e._v(" Continue ")])],1),r("v-card-text",{staticClass:"text-center opacity-50"},[e._v(" Something went wrong? "),r("br"),r("span",{staticClass:"text-decoration-underline actions",on:{click:e.contactCustomerService}},[e._v("Contact Customer Service")]),e._v(" or "),r("span",{staticClass:"text-decoration-underline actions",on:{click:e.goToEmailScreen}},[e._v("Login")])])],1)],1)},Ae=[],$e={name:"ChangeMobile",components:{EmailTextField:_,PhoneTextField:ce},data:function(){return{email:"",phone:"",emsg:"",areacode:"ca",isChanging:!1}},computed:{isValidEmail:function(){return b(this.email)},isValidPhone:function(){return W(this.phone)},areacodes:function(){return Y}},created:function(){},methods:{displayErrorMessage:function(e){switch(e){case"FORBIDDEN":this.emsg="You are not allowed to change the mobile number at the moment. Contact customer servece or login";break;case"DUPLICATE_PHONE":this.emsg="The mobile number has been used by someone else.";break;default:this.emsg="The email and/or the mobile number is invalid."}},changePhone:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("call Auth.changePhone",e.email,e.phone),e.isChanging=!0,t.prev=2,t.next=5,v["a"].changePhone({email:e.email,phone:e.phone});case 5:r=t.sent,e.$emit("form-change",r.data.status),e.isChanging=!1,t.next=16;break;case 10:t.prev=10,t.t0=t["catch"](2),e.isChanging=!1,console.error(t.t0),console.log(null===(n=t.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.status),e.displayErrorMessage(null===(o=t.t0.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.status);case 16:return t.prev=16,e.isChanging=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,10,16,19]])})))()},contactCustomerService:function(){return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("customer service");case 1:case"end":return e.stop()}}),e)})))()},goToEmailScreen:function(){this.$emit("form-change",{status:"default"})}}},ke=$e,Te=(r("a02b"),Object(f["a"])(ke,Oe,Ae,!1,null,"6a20ad3f",null)),Re=Te.exports;k()(Te,{VBtn:T["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VForm:U});var Se=["authReturnUrl"],Me={name:"Auth",components:{Bubble:d,Email:V,Phone:de,VerifyOtp:_e,ChangeMobile:Re},props:{isQrCheckoutFlow:{type:Boolean,required:!1,default:function(){return!1}}},data:function(){return{form:"Email",isNewAccount:!1}},computed:{appName:function(){return v["a"].appName},xsOnly:function(){return this.$vuetify.breakpoint.xsOnly},cardWidth:function(){return this.xsOnly?"100%":"360px"},authReturnUrl:function(){var e=this.$route.query.authReturnUrl;return e&&"/auth"!==e?e:"/"}},mounted:function(){this.form=this.isQrCheckoutFlow?"QrCode":"Email"},methods:{onFormChange:function(e){switch(console.log({status:e}),e){case"PHONE_REQUIRED":this.form="CreatePhone",this.isNewAccount=!0;break;case"OTP_REQUIRED":case"OTP_PHONE_REQUIRED":this.form="VerifyPhone";break;case"CHANGE_PHONE":this.form="ChangeMobile";break;case"OTP_EMAIL_REQUIRED":this.form="VerifyEmail";break;case"NEW_PHONE_REQUIRED":this.form="ReplacePhone";break;case"OK":case"COMPLETED":console.log("authReturnUrl",this.authReturnUrl);var t=this.$route.query,r=(t.authReturnUrl,Object(o["a"])(t,Se));this.$router.push({path:this.authReturnUrl,query:r});break;default:this.form="Email"}}}},Be=Me,Ie=(r("d145"),r("b0af")),Ue=r("62ad"),Ne=r("0fd9"),Ve=r("f665"),je=r("1e6c"),Le=Object(f["a"])(Be,n,i,!1,null,"f0b937ba",null);t["default"]=Le.exports;k()(Le,{VCard:Ie["a"],VCol:Ue["a"],VRow:Ne["a"],VWindow:Ve["a"],VWindowItem:je["a"]})},7576:function(e,t,r){e.exports=r.p+"img/blob.c908e140.webp"},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*g}},"915e":function(e,t,r){"use strict";r("2c5b")},"9a61":function(e,t,r){"use strict";r("6c79")},a02b:function(e,t,r){"use strict";r("be4e")},ac0d:function(e,t,r){!function(e,r){r(t)}(0,(function(e){"use strict";function t(e){return{x:e.x,y:e.y,handleIn:c({},e.handleIn),handleOut:c({},e.handleOut)}}function r(e,r){for(var n=function(n){function i(r){return t(e[l(r,e.length)])}r({curr:t(e[n]),index:n,sibling:i,prev:function(){return i(n-1)},next:function(){return i(n+1)}})},i=0;i<e.length;i++)n(i)}function n(e,t){var n=[];return r(e,(function(e){n.push(t(e))})),n}function i(e,t){return{x:e.x+t.length*Math.cos(t.angle),y:e.y+t.length*Math.sin(t.angle)}}function o(e,t){return n(e,(function(e){var r,n,i=e.curr,o=e.next,a=e.prev;r=a(),n=o(),e=n.x-r.x,r=-n.y+r.y,e=(e=Math.atan2(r,e))<0?Math.abs(e):2*Math.PI-e;return{x:i.x,y:i.y,handleIn:{angle:e+Math.PI,length:t*f(i,a())},handleOut:{angle:e,length:t*f(i,o())}}}))}function a(e){var t,r,i,a,s=(c=function(e){for(var t=2166136261,r=0;r<e.length;r++)t=Math.imul(t^e.charCodeAt(r),16777619);return function(){return t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,(t+=t<<5)>>>0}}(c=String(e.seed)),t=c(),r=c(),i=c(),a=c(),function(){var e=(t>>>=0)+(r>>>=0)|0;return t=r^r>>>9,r=(i>>>=0)+(i<<3)|0,i=(i=i<<21|i>>>11)+(e=e+(a=1+(a>>>=0)|0)|0)|0,(e>>>0)/4294967296}),u=1/(1+e.randomness/10),c=function(e,t){for(var r=2*Math.PI/e,n=[],i=0;i<e;i++){var a=t(),s=Math.sin(i*r),u=Math.cos(i*r);n.push({x:.5+s*a,y:.5+u*a,handleIn:{angle:0,length:0},handleOut:{angle:0,length:0}})}var c=4/3*Math.tan(r/4)/Math.sin(r/2)/2;return o(n,c)}(3+e.extraPoints,(function(){return(u+s()*(1-u))/2})),l=e.size;return n(c,(function(e){return e=e.curr,e.x*=l,e.y*=l,e.handleIn.length*=l,e.handleOut.length*=l,e}))}function s(e,t,r){var n=typeof t;if("number"===n&&isNaN(t)&&(n="NaN"),!r.includes(n="object"===n&&null===t?"null":n))throw'"'+e+'" should have type "'+r.join("|")+'" but was "'+n+'".'}function u(e){s("blobOptions",e,["object"]);var t=e.seed,r=e.extraPoints,n=e.randomness;e=e.size;if(s("blobOptions.seed",t,["string","number"]),s("blobOptions.extraPoints",r,["number"]),r<0)throw'blobOptions.extraPoints is invalid "'+r+'".';if(s("blobOptions.randomness",n,["number"]),n<0)throw'blobOptions.randomness is invalid "'+n+'".';if(s("blobOptions.size",e,["number"]),e<0)throw'blobOptions.size is invalid "'+e+'".'}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(e,t){return(e%t+t)%t},f=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},h=function(e){try{u(e)}catch(e){throw"(blobs2): "+e}return e=a(e),t="M"+e[0].x+","+e[0].y,r(e,(function(e){var r=e.curr,n=(0,e.next)();e=i(r,r.handleOut),r=i(n,n.handleIn);t+="C"+e.x+","+e.y+","+r.x+","+r.y+","+n.x+","+n.y})),t;var t};e.canvasPath=function(e,t){void 0===t&&(t={});try{u(e),s("canvasOptions",o=t,["object","undefined"]),o&&(c=o.offsetX,o=o.offsetY,s("canvasOptions.offsetX",c,["number","undefined"]),s("canvasOptions.offsetY",o,["number","undefined"]))}catch(e){throw"(blobs2): "+e}var o,c,l;return e=n(a(e),(function(e){return e=e.curr,e.x+=t.offsetX||0,e.y+=t.offsetY||0,e})),l=new Path2D,e.length<1||(l.moveTo(e[0].x,e[0].y),r(e,(function(e){var t=e.curr,r=(0,e.next)();e=i(t,t.handleOut),t=i(r,r.handleIn);l.bezierCurveTo(e.x,e.y,t.x,t.y,r.x,r.y)}))),l},e.svg=function(e,t){void 0===t&&(t={});try{u(e),s("svgOptions",i=t,["object","undefined"]),i&&(r=i.fill,n=i.stroke,i=i.strokeWidth,s("svgOptions.fill",r,["string","undefined"]),s("svgOptions.stroke",n,["string","undefined"]),s("svgOptions.strokeWidth",i,["number","undefined"]))}catch(e){throw"(blobs2): "+e}var r,n=h(e),i=Math.floor(e.size);e=void 0===t.fill?"#ec576b":t.fill;return('\n<svg width="'+i+'" height="'+i+'" viewBox="0 0 '+i+" "+i+'" xmlns="http://www.w3.org/2000/svg">\n    <path stroke="'+(void 0===t.stroke?"none":t.stroke)+'" stroke-width="'+(void 0===t.strokeWidth?0:t.strokeWidth)+'" fill="'+e+'" d="'+n+'"/>\n</svg>').trim()},e.svgPath=h,Object.defineProperty(e,"__esModule",{value:!0})}))},b639:function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),o=r("e3db");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,r,n):"string"===typeof t?p(e,t,r):v(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,r,n){return f(t),t<=0?u(e,t):void 0!==r?"string"===typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}function d(e,t){if(f(t),e=u(e,t<0?0:0|y(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t,r){if("string"===typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(t,r);e=u(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function g(e,t){var r=t.length<0?0:0|y(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function m(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=g(e,t),e}function v(e,t){if(c.isBuffer(t)){var r=0|y(t.length);return e=u(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):g(e,t);if("Buffer"===t.type&&o(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),c.alloc(+e)}function w(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return K(e).length;t=(""+t).toLowerCase(),n=!0}}function E(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return U(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function P(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function C(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:x(e,t,r,n,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):x(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function O(e,t,r,n){return ee(K(t,e.length-r),e,r,n)}function A(e,t,r,n){return ee(Q(t),e,r,n)}function $(e,t,r,n){return A(e,t,r,n)}function k(e,t,r,n){return ee(X(t),e,r,n)}function T(e,t,r,n){return ee(J(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return B(n)}t.Buffer=c,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return h(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)P(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)P(this,t,t+3),P(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)P(this,t,t+7),P(this,t+1,t+6),P(this,t+2,t+5),P(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):E.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return C(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return C(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":return A(this,e,t,r);case"latin1":case"binary":return $(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function B(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=M));return r}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function U(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=q(e[o]);return i}function V(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Y(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function F(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,o){return o||F(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,o){return o||F(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);var n=this[e],i=1,o=0;while(++o<t&&(i*=256))n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);var n=this[e],i=1,o=0;while(++o<t&&(i*=256))n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||j(e,t,this.length);var n=t,i=1,o=this[e+--n];while(n>0&&(i*=256))o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;L(this,e,t,r,i,0)}var o=1,a=0;this[t]=255&e;while(++a<r&&(o*=256))this[t+a]=e/o&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;L(this,e,t,r,i,0)}var o=r-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;this[t]=255&e;while(++o<r&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return H(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return H(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=c.isBuffer(e)?e:K(new c(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function Z(e){if(e=G(e).replace(W,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function K(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Q(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function J(e,t){for(var r,n,i,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n)}return o}function X(e){return n.toByteArray(Z(e))}function ee(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function te(e){return e!==e}}).call(this,r("c8ba"))},be4e:function(e,t,r){},c52b:function(e,t,r){},cc68:function(e,t,r){"use strict";(function(e){var n=r("3835"),i=(r("ac1f"),r("00b4"),r("1276"),function(e){return/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(e)}),o=function(t){if(!i(t))return{};var r=t.split("."),o=Object(n["a"])(r,3),a=o[0],s=o[1],u=o[2];console.log(a,u);try{return JSON.parse(e.from(s,"base64"))}catch(c){return console.warn(c),{}}};t["a"]=o}).call(this,r("b639").Buffer)},d145:function(e,t,r){"use strict";r("6a5f")},e3db:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},ecce:function(e,t,r){"use strict";r("581c")}}]);